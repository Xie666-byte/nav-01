{"version":3,"sources":["main.js"],"names":["$lastLi","$","find","$siteList","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","console","log","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","item","key","i","length","toLowerCase"],"mappings":"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","file":"main.58e1b178.js","sourceRoot":"..\\src","sourcesContent":["//将最后一个li找出来\r\nconst $lastLi= $('.siteList').find('li.last')\r\nconst $siteList=$('.siteList')\r\n//localSorage.getItem接受一个key，获取指定key本地存储的值\r\nconst x=localStorage.getItem('x')\r\nconst xObject=JSON.parse(x)\r\n//如果xObject存在，就用xObject;如果不存在，就用默认数组\r\nconst hashMap=xObject||[\r\n    {logo:'A',url:'https://www.acfun.cn'},\r\n    {logo:'B',url:'https://www.bilibili.com'}\r\n]\r\nlet simplifyUrl=(url)=>{\r\n    return url.replace(\"https://\",\"\").replace(\"http://\",\"\").replace(\"www.\",\"\").\r\n    replace(/\\/.*/,\"\")//删除/开头的内容\r\n}\r\n\r\n//遍历哈希表，将哈希表的每一项插入到last的li前面\r\nlet render=()=>{\r\n    //获取除了类名为.last的li以外的所有li,然后删掉\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node,index)=>{\r\n        //创建li，并且插入到最后一个li的前面\r\n        const $li=$(`\r\n        <li>\r\n                        <div class=\"site\">\r\n                            <div class=\"logo\">${node.logo}</div>\r\n                            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                            <div class=\"close\">\r\n                            <svg class=\"icon icon-1\">\r\n                              <use xlink:href=\"#icon-guanbi\">\r\n                              </use>\r\n                            </svg>\r\n                            </div>\r\n                        </div>\r\n                </li>\r\n        `).insertBefore($lastLi)\r\n        \r\n        $li.on('click',()=>{\r\n            window.open(node.url)\r\n        })\r\n        //监听.close\r\n        $li.on('click',\".close\",(e)=>{\r\n            //阻止冒泡\r\n            e.stopPropagation()\r\n            console.log(hashMap)\r\n            //删除哈希表的当前元素\r\n            hashMap.splice(index,1)\r\n            console.log(hashMap)\r\n            render()\r\n        })\r\n    })\r\n}\r\nrender()\r\n//点击后，触发回调函数\r\n$('.addButton').on('click',()=>{\r\n    let url= window.prompt('请问您要输入的网址是啥？')\r\n    if(url.indexOf('https')!==0){\r\n        url='https://'+url\r\n    }\r\n    console.log(url)\r\n    //向哈希表添加一项\r\n    hashMap.push({\r\n        logo:simplifyUrl(url)[0].toUpperCase(),\r\n        url:url\r\n    })\r\n    //再次渲染（调用）哈希表\r\n    render()\r\n})\r\n//用户关闭网页时发生的事件\r\nwindow.onbeforeunload=()=>{\r\n    //localStorage只能存字符串，不能存对象\r\n    console.log('页面要关闭了')\r\n    const string=JSON.stringify(hashMap)\r\n    //将value存储到key字段\r\n    localStorage.setItem('x',string)\r\n}\r\n$(document).on('keypress',(item)=>{\r\n    const {key}=item\r\n    for(let i=0;i<hashMap.length;i++){\r\n        if(hashMap[i].logo.toLowerCase()===key){\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})"]}